function getTodoLocation(){navigator.geolocation.getCurrentPosition(getLocation,locationError)}function getLocation(o){var e=o.coords.latitude,a=o.coords.longitude;geoLocation="Location: ("+e+", "+a+") ",map||showMap(e,a),addMarker(e,a)}function addMarker(o,e){var a=new google.maps.LatLng(o,e),n={position:a,map:map,title:"You are here!"},t=new google.maps.Marker(n)}function showMap(o,e){var a=new google.maps.LatLng(o,e),n={zoom:12,center:a,mapTypeId:google.maps.MapTypeId.ROADMAP},t=document.getElementById("map");map=new google.maps.Map(t,n),map.panTo(a)}function locationError(o){var e={0:"Unknown error",1:"Permission denied by user",2:"Position not available",3:"Request timed out"},a=e[o.code];(0==o.code||2==o.code)&&(a+=" "+o.message),console.log(a),alert(a)}getTodoLocation();